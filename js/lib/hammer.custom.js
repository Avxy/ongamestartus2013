var HAMMER=(function(h){var y={prevent_default:false,css_hacks:true,swipe:true,swipe_time:200,swipe_min_distance:20,drag:true,drag_vertical:true,drag_horizontal:true,drag_min_distance:20,transform:true,scale_treshold:0.1,rotation_treshold:15,tap:true,tap_double:true,tap_max_interval:200,tap_max_distance:10,tap_double_distance:20,hold:true,hold_timeout:500},K=(Modernizr?Modernizr.touch:"ontouchstart" in window),t=K?"touchstart":"mousedown",I=K?"touchmove":"mousemove",s=K?"touchend":"mouseup",a=K?"touchcancel":"",d=false,e=0,k=false,w=[],n,B={},M=0,v=0,N=0,O=0,o=false,j,i,F={x:0,y:0},f,u,C,m=0,P={},c={hold:function(R){if(y.hold){j="hold";if(typeof C!=="undefined"){clearTimeout(C);C=undefined}C=setTimeout(function(){if(j=="hold"){L("hold",{originalEvent:R,position:B.start})}},y.hold_timeout)}},swipe:function(V){if(!B.move){return}var T=B.move[0].x-B.start[0].x;var S=B.move[0].y-B.start[0].y;M=Math.sqrt(T*T+S*S);var R=new Date().getTime();var U=R-u;if(y.swipe&&(y.swipe_time>U)&&(M>y.swipe_min_distance)){v=q(B.start[0],B.move[0]);N=g(v);j="swipe";L("swipe",{originalEvent:V,direction:N,distance:M,distanceX:T,distanceY:S,angle:v})}},drag:function(U){var S=B.move[0].x-B.start[0].x,R=B.move[0].y-B.start[0].y,T;M=Math.sqrt(S*S+R*R);if(y.drag&&(M>y.drag_min_distance)||j=="drag"){v=q(B.start[0],B.move[0]);N=g(v);T=(N=="up"||N=="down");if(((T&&!y.drag_vertical)||(!T&&!y.drag_horizontal))&&(M>y.drag_min_distance)){return}j="drag";if(o){L("dragstart",{originalEvent:U,position:B.start,direction:N,distance:M,distanceX:S,distanceY:R,angle:v});o=false}L("drag",{originalEvent:U,direction:N,distance:M,distanceX:S,distanceY:R,angle:v})}},transform:function(S){var R,T;if(y.transform){if(z(S)!=2){return false}R=p(B.start,B.move);T=r(B.start,B.move);if(j!="drag"&&(j=="transform"||Math.abs(1-T)>y.scale_treshold||Math.abs(R)>y.rotation_treshold)){j="transform";B.center={x:((B.move[0].x+B.move[1].x)/2)-P.left,y:((B.move[0].y+B.move[1].y)/2)-P.top};if(o){o=false;L("transformstart",{originalEvent:S,position:B.start,center:B.center,scale:T,rotation:R})}L("transform",{originalEvent:S,center:B.center,scale:T,rotation:R});return true}}return false},tap:function(U){var R=new Date().getTime(),S=R-u,W,V,T;if(y.hold&&!(y.hold&&y.hold_timeout>S)){return}W=(function(){if(F&&y.tap_double&&i=="tap"&&(u-f)<y.tap_max_interval){return(F&&B.start&&Math.max(Math.abs(F[0].x-B.start[0].x),Math.abs(F[0].y-B.start[0].y))<y.tap_double_distance)}return false})();if(W){j="double_tap";f=null;L("doubletap",{originalEvent:U,position:B.start})}else{V=(B.move)?Math.abs(B.move[0].x-B.start[0].x):0;T=(B.move)?Math.abs(B.move[0].y-B.start[0].y):0;M=Math.max(V,T);if(M<y.tap_max_distance){j="tap";f=R;F=B.start;if(y.tap){L("tap",{originalEvent:U,position:B.start})}}}}};h.options=y;h.option=function(R,S){if(typeof S!=="undefined"){y[R]=S}return y[R]};function b(R){$(document)[R?"off":"on"]("selectstart",A);$("html")[R?"removeClass":"addClass"]("unselectable");document.unselectable=R?"off":"on"}function g(T){var U={down:T>=45&&T<135,left:T>=135||T<=-135,up:T<-45&&T>-135,right:T>=-45&&T<=45};var S,R;for(R in U){if(U[R]){S=R;break}}return S}function z(R){return R.touches?R.touches.length:1}function Q(U){U=U||window.event;if(!K){var W=document,S=W.body;return[{x:U.pageX||U.clientX+(W&&W.scrollLeft||S&&S.scrollLeft||0)-(W&&W.clientLeft||S&&S.clientLeft||0),y:U.pageY||U.clientY+(W&&W.scrollTop||S&&S.scrollTop||0)-(W&&W.clientTop||S&&S.clientTop||0)}]}else{var Y=[],X,V=U.touches.length>0?U.touches:U.changedTouches;for(var T=0,R=V.length;T<R;T++){X=V[T];Y.push({x:X.pageX,y:X.pageY})}return Y}}function q(S,R){return Math.atan2(R.y-S.y,R.x-S.x)*180/Math.PI}function r(S,T){if(S.length==2&&T.length==2){var R,W;R=S[0].x-S[1].x;W=S[0].y-S[1].y;var U=Math.sqrt((R*R)+(W*W));R=T[0].x-T[1].x;W=T[0].y-T[1].y;var V=Math.sqrt((R*R)+(W*W));return V/U}return 0}function p(T,U){if(T.length==2&&U.length==2){var S,W;S=T[0].x-T[1].x;W=T[0].y-T[1].y;var V=Math.atan2(W,S)*180/Math.PI;S=U[0].x-U[1].x;W=U[0].y-U[1].y;var R=Math.atan2(W,S)*180/Math.PI;return R-V}return 0}function G(R){R=R||window.event;if(R.preventDefault){R.preventDefault();R.stopPropagation()}else{R.returnValue=false;R.cancelBubble=true}}function A(){return false}function H(){k=false;O=0;j=null;B={};o=false;d=false;M=0;v=0}function J(R,T){if(!T&&window.event&&window.event.toElement){T=window.event.toElement}if(R===T){return true}if(T){var S=T.parentNode;while(S!==null){if(S===R){return true}S=S.parentNode}}return false}function l(U,T,V){T=T.split(" ");for(var S=0,R=T.length;S<R;S++){if(U.addEventListener){U.addEventListener(T[S],V,false)}else{if(document.attachEvent){U.attachEvent("on"+T[S],V)}}}}function L(V,T){var W,U,S,R=false;for(W=0,U=w.length;W<U;W++){S=w[W];if(V==="dragend"&&S.dragging===true){S.dragging=false;m=Math.max(0,m-1);if(m<=0){b(true)}}if(typeof S["on"+V]==="function"){if(V==="dragstart"&&S.dragging!==true){S.dragging=true;m++;b(false)}T.touches=Q(T.originalEvent||T);T.position=T.touches||T.position;T.type=V;if(!T.target){T.target=S.element}S["on"+V].call(S,T);R=true;break}}return R}function x(S,U){var T,R;if(k!==true){k=true;n=U;O=z(U);u=new Date().getTime();B.start=Q(U.originalEvent||U);o=true;d=true;M=0;v=0;T=S.element;R=$(T);P=R.offset();$(window).on(I+" "+s+" "+a,E);c.hold(U)}w.push(S)}function E(T){var S=T.type,R,U;if(S===I){if(d===true){B.move=Q(T.originalEvent||T);if(!c.transform(T)){c.drag(T)}}T.preventDefault()}else{if(S===s||S===a){$(window).off(I+" "+s+" "+a,E);if(d===true){if(j!=="transform"&&T.touches&&T.touches.length>0){return false}if(typeof C!=="undefined"){clearTimeout(C);C=undefined}U=j==="drag";c.swipe(T);if(U){L("dragend",{originalEvent:T,direction:N,distance:M,angle:v})}else{if(j=="transform"){L("transformend",{originalEvent:T,center:B.center,scale:r(B.start,B.move),rotation:p(B.start,B.move)})}else{c.tap(n)}}i=j;L("release",{originalEvent:T,gesture:j})}w=[];H()}}}h.Instance=function D(R){var T=this;T.id=e++;T.element=R;function S(U){x(T,U)}l(R,t,S)};return h}(HAMMER||{}));(function(b){var a=["hold","tap","doubletap","transformstart","transform","transformend","dragstart","drag","dragend","swipe","release"];b.each(a,function(d,c){b.event.special[c]={setup:function(i,h,g){var e=b(this),f;if(!e.data("hammerjs")){e.data("hammerjs",new HAMMER.Instance(this))}f=e.data("hammerjs");f["on"+c]=function(j){e.trigger(b.Event(c,j))}},teardown:function(g){var e=b(this),f=e.data("hammerjs");if(f&&f["on"+c]){delete f["on"+c]}}}})}(jQuery));