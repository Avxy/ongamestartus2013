var HAMMER=(function(h){var x={prevent_default:false,css_hacks:true,swipe:true,swipe_time:200,swipe_min_distance:20,drag:true,drag_vertical:true,drag_horizontal:true,drag_min_distance:20,transform:true,scale_treshold:0.1,rotation_treshold:15,tap:true,tap_double:true,tap_max_interval:200,tap_max_distance:10,tap_double_distance:20,hold:true,hold_timeout:500},J=(Modernizr?Modernizr.touch:"ontouchstart" in window),s=J?"touchstart":"mousedown",H=J?"touchmove":"mousemove",r=J?"touchend":"mouseup",a=J?"touchcancel":"",d=false,e=0,k=false,v=[],m,A={},L=0,u=0,M=0,N=0,n=false,j,i,E={x:0,y:0},f,t,B,O={},c={hold:function(Q){if(x.hold){j="hold";if(typeof B!=="undefined"){clearTimeout(B);B=undefined}B=setTimeout(function(){if(j=="hold"){K("hold",{originalEvent:Q,position:A.start})}},x.hold_timeout)}},swipe:function(U){if(!A.move){return}var S=A.move[0].x-A.start[0].x;var R=A.move[0].y-A.start[0].y;L=Math.sqrt(S*S+R*R);var Q=new Date().getTime();var T=Q-t;if(x.swipe&&(x.swipe_time>T)&&(L>x.swipe_min_distance)){u=p(A.start[0],A.move[0]);M=g(u);j="swipe";K("swipe",{originalEvent:U,direction:M,distance:L,distanceX:S,distanceY:R,angle:u})}},drag:function(T){var R=A.move[0].x-A.start[0].x,Q=A.move[0].y-A.start[0].y,S;L=Math.sqrt(R*R+Q*Q);if(x.drag&&(L>x.drag_min_distance)||j=="drag"){u=p(A.start[0],A.move[0]);M=g(u);S=(M=="up"||M=="down");if(((S&&!x.drag_vertical)||(!S&&!x.drag_horizontal))&&(L>x.drag_min_distance)){return}j="drag";if(n){K("dragstart",{originalEvent:T,position:A.start,direction:M,distance:L,distanceX:R,distanceY:Q,angle:u});n=false}K("drag",{originalEvent:T,direction:M,distance:L,distanceX:R,distanceY:Q,angle:u})}},transform:function(R){var Q,S;if(x.transform){if(y(R)!=2){return false}Q=o(A.start,A.move);S=q(A.start,A.move);if(j!="drag"&&(j=="transform"||Math.abs(1-S)>x.scale_treshold||Math.abs(Q)>x.rotation_treshold)){j="transform";A.center={x:((A.move[0].x+A.move[1].x)/2)-O.left,y:((A.move[0].y+A.move[1].y)/2)-O.top};if(n){n=false;K("transformstart",{originalEvent:R,position:A.start,center:A.center,scale:S,rotation:Q})}K("transform",{originalEvent:R,center:A.center,scale:S,rotation:Q});return true}}return false},tap:function(T){var Q=new Date().getTime(),R=Q-t,V,U,S;if(x.hold&&!(x.hold&&x.hold_timeout>R)){return}V=(function(){if(E&&x.tap_double&&i=="tap"&&(t-f)<x.tap_max_interval){return(E&&A.start&&Math.max(Math.abs(E[0].x-A.start[0].x),Math.abs(E[0].y-A.start[0].y))<x.tap_double_distance)}return false})();if(V){j="double_tap";f=null;K("doubletap",{originalEvent:T,position:A.start})}else{U=(A.move)?Math.abs(A.move[0].x-A.start[0].x):0;S=(A.move)?Math.abs(A.move[0].y-A.start[0].y):0;L=Math.max(U,S);if(L<x.tap_max_distance){j="tap";f=Q;E=A.start;if(x.tap){K("tap",{originalEvent:T,position:A.start})}}}}};h.options=x;h.option=function(Q,R){if(typeof R!=="undefined"){x[Q]=R}return x[Q]};function b(Q){$(document)[Q?"off":"on"]("selectstart",z);$("html")[Q?"removeClass":"addClass"]("unselectable");document.unselectable=Q?"off":"on"}function g(S){var T={down:S>=45&&S<135,left:S>=135||S<=-135,up:S<-45&&S>-135,right:S>=-45&&S<=45};var R,Q;for(Q in T){if(T[Q]){R=Q;break}}return R}function y(Q){return Q.touches?Q.touches.length:1}function P(T){T=T||window.event;if(!J){var V=document,R=V.body;return[{x:T.pageX||T.clientX+(V&&V.scrollLeft||R&&R.scrollLeft||0)-(V&&V.clientLeft||R&&R.clientLeft||0),y:T.pageY||T.clientY+(V&&V.scrollTop||R&&R.scrollTop||0)-(V&&V.clientTop||R&&R.clientTop||0)}]}else{var X=[],W,U=T.touches.length>0?T.touches:T.changedTouches;for(var S=0,Q=U.length;S<Q;S++){W=U[S];X.push({x:W.pageX,y:W.pageY})}return X}}function p(R,Q){return Math.atan2(Q.y-R.y,Q.x-R.x)*180/Math.PI}function q(R,S){if(R.length==2&&S.length==2){var Q,V;Q=R[0].x-R[1].x;V=R[0].y-R[1].y;var T=Math.sqrt((Q*Q)+(V*V));Q=S[0].x-S[1].x;V=S[0].y-S[1].y;var U=Math.sqrt((Q*Q)+(V*V));return U/T}return 0}function o(S,T){if(S.length==2&&T.length==2){var R,V;R=S[0].x-S[1].x;V=S[0].y-S[1].y;var U=Math.atan2(V,R)*180/Math.PI;R=T[0].x-T[1].x;V=T[0].y-T[1].y;var Q=Math.atan2(V,R)*180/Math.PI;return Q-U}return 0}function F(Q){Q=Q||window.event;if(Q.preventDefault){Q.preventDefault();Q.stopPropagation()}else{Q.returnValue=false;Q.cancelBubble=true}}function z(){return false}function G(){k=false;N=0;j=null;A={};n=false;d=false;L=0;u=0}function I(Q,S){if(!S&&window.event&&window.event.toElement){S=window.event.toElement}if(Q===S){return true}if(S){var R=S.parentNode;while(R!==null){if(R===Q){return true}R=R.parentNode}}return false}function l(T,S,U){S=S.split(" ");for(var R=0,Q=S.length;R<Q;R++){if(T.addEventListener){T.addEventListener(S[R],U,false)}else{if(document.attachEvent){T.attachEvent("on"+S[R],U)}}}}function K(U,S){var V,T,R,Q=false;for(V=0,T=v.length;V<T;V++){R=v[V];if(typeof R["on"+U]==="function"){S.touches=P(S.originalEvent||S);S.position=S.touches||S.position;S.type=U;if(!S.target){S.target=R.element}R["on"+U].call(R,S);Q=true;break}}return Q}function w(R,T){var S,Q;if(k!==true){k=true;m=T;N=y(T);t=new Date().getTime();A.start=P(T.originalEvent||T);n=true;d=true;L=0;u=0;S=R.element;Q=$(S);O=Q.offset();b(false);$(window).on(H+" "+r+" "+a,D);c.hold(T)}v.push(R)}function D(S){var R=S.type,Q,T;if(R===H){if(d===true){A.move=P(S.originalEvent||S);if(!c.transform(S)){c.drag(S)}}S.preventDefault()}else{if(R===r||R===a){$(window).off(H+" "+r+" "+a,D);if(d===true){if(j!=="transform"&&S.touches&&S.touches.length>0){return false}if(typeof B!=="undefined"){clearTimeout(B);B=undefined}T=j=="drag";c.swipe(S);if(T){K("dragend",{originalEvent:S,direction:M,distance:L,angle:u});b(true)}else{if(j=="transform"){K("transformend",{originalEvent:S,center:A.center,scale:q(A.start,A.move),rotation:o(A.start,A.move)})}else{c.tap(m)}}i=j;K("release",{originalEvent:S,gesture:j})}v=[];G()}}}h.Instance=function C(Q){var S=this;S.id=e++;S.element=Q;function R(T){w(S,T)}l(Q,s,R)};return h}(HAMMER||{}));(function(b){var a=["hold","tap","doubletap","transformstart","transform","transformend","dragstart","drag","dragend","swipe","release"];b.each(a,function(d,c){b.event.special[c]={setup:function(i,h,g){var e=b(this),f;if(!e.data("hammerjs")){e.data("hammerjs",new HAMMER.Instance(this))}f=e.data("hammerjs");f["on"+c]=function(j){e.trigger(b.Event(c,j))}},teardown:function(g){var e=b(this),f=e.data("hammerjs");if(f&&f["on"+c]){delete f["on"+c]}}}})}(jQuery));