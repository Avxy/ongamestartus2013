(function(c){function i(){THREE.Scene.call(this);this.dynamics=[];this.octree=new THREE.Octree;this.physics=new h.Instance}function j(a){var d=this.__objects.length;b.Instance.prototype.supr.__addObject.call(this,a);if(this.__objects.length!==d)a.scene=this,a instanceof e.Instance&&(a.morphs instanceof f.Instance&&a.morphs.play("idle",{loop:!0,startDelay:!0}),a.intersectable===!0&&(a.dynamic!==!0?this.octree.add(a,!0):c.array_cautious_add(this.dynamics,a),a.rigidBody instanceof g.Instance&&this.physics.add(a)))}
function k(a){var d=this.__objects.length;b.Instance.prototype.supr.__removeObject.call(this,a);if(this.__objects.length!==d)a.scene=void 0,a instanceof e.Instance&&(a.morphs instanceof f.Instance&&a.morphs.stop_all(),a.intersectable===!0&&(a.dynamic!==!0?this.octree.remove(a):c.array_cautious_remove(this.dynamics,a),a.rigidBody instanceof g.Instance&&this.physics.remove(a)))}c.shared=c.shared||{};var b={},e,f,h,g;c.asset_register("js/kaiopua/core/Scene.js",{data:b,requirements:["js/kaiopua/core/Model.js",
"js/kaiopua/core/Morphs.js","js/kaiopua/physics/Physics.js","js/kaiopua/physics/RigidBody.js"],callbacksOnReqs:function(a,c,l,m){e=a;f=c;h=l;g=m;b.Instance=i;b.Instance.prototype=new THREE.Scene;b.Instance.prototype.constructor=b.Instance;b.Instance.prototype.supr=THREE.Scene.prototype;b.Instance.prototype.__addObject=j;b.Instance.prototype.__removeObject=k},wait:!0})})(KAIOPUA);
