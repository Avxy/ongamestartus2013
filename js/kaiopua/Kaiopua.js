var KAIOPUA=function(e){var ua,ba,ca,da,w,O,G,P,t,x,H,Q,I,u,R,S,v,J,K,ea,L,T;function Ra(a,c,d){console.log("GAME: compatiblity check");B=a;fa=c;va=d;B.errorState?(b.supports.webGL=!1,B.process()):e.asset_require(Sa,[Ta],!0)}function Ta(){e.asset_require(Ua,[Va,Wa],!0)}function Wa(){e.asset_require(Xa,[Ya,Za],!0)}function Za(){e.asset_require($a,[ab,bb],!0)}function bb(){e.asset_require(cb,db,!0)}function Va(){console.log("GAME: foundation");b.universeGravitySource=new THREE.Vector3(0,0,0);b.universeGravityMagnitude=
new THREE.Vector3(0,-0.4,0);b.cardinalAxes={up:new THREE.Vector3(0,1,0),forward:new THREE.Vector3(0,0,1),right:new THREE.Vector3(-1,0,0)};b.renderer=new THREE.WebGLRenderer({clearColor:0,clearAlpha:0,maxLights:8});b.renderer.setSize(b.gameWidth,b.gameHeight);b.renderer.autoClear=!1;b.renderTarget=new THREE.WebGLRenderTarget(b.gameWidth,b.gameHeight,{minFilter:THREE.LinearFilter,magFilter:THREE.NearestFilter})}function Ya(a,c){console.log("GAME: setup");ga=a;wa=c;b.scene=new ga.Instance;b.sceneBG=
new ga.Instance;b.scene.fog=void 0;e.physics=b.scene.physics;b.camera=new THREE.PerspectiveCamera(60,b.gameWidth/b.gameHeight,1,2E4);b.cameraBG=new THREE.PerspectiveCamera(60,b.gameWidth/b.gameHeight,1,2E4);b.camera.useQuaternion=b.cameraBG.useQuaternion=!0;b.cameraControls=new wa.Instance({camera:b.camera});b.cameraControls.onCameraMoved.add($.throttle(b.throttleTimeMedium,function(){b.domElements.$game.triggerHandler("mousemove")}));ua=new THREE.RenderPass(b.sceneBG,b.cameraBG);ba=new THREE.RenderPass(b.scene,
b.camera);ca=new THREE.ShaderPass(THREE.ShaderExtras.screen);ba.clear=!1;ca.renderToScreen=!0;C=new THREE.EffectComposer(b.renderer,b.renderTarget);C.addPass(ua);C.addPass(ba);C.addPass(ca);b.domElements.$game.prepend(b.renderer.domElement);b.throttled.on_game_pointer_moved=$.throttle(b.throttleTimeShort,eb);b.throttled.on_game_pointer_dragged=$.throttle(b.throttleTimeShort,!0,fb);b.domElements.$game.on("mouseleave",gb).on("mouseenter",hb).on("mousemove",b.throttled.on_game_pointer_moved).on("tap",
ib).on("doubletap",jb).on("hold",kb).on("dragstart",lb).on("drag",b.throttled.on_game_pointer_dragged).on("dragend",mb).on("mousewheel DOMMouseScroll",nb).on("contextmenu",ob);M=!0;xa()}function ab(a){ha=a;U(ha)}function db(a){console.log("GAME: playable");ya=a;V=!0;b.signals.onGamePlayable.dispatch()}function U(a,c){var d=b.fadeBetweenSections,f=!1,g=function(){typeof b.sectionLast!=="undefined"&&b.sectionLast.remove();a.show();b.section=a;d!==!1&&e.dom_fade({element:b.domElements.$uiBlocker});W();
typeof c!=="undefined"&&c.call()};X(!0);if(typeof b.section!=="undefined")f=!0,b.sectionLast=b.section,b.sectionLast.hide(),d!==!1&&e.dom_fade({element:b.domElements.$uiBlocker,opacity:1});b.section=void 0;typeof startedValue!=="undefined"&&(D=startedValue);typeof a!=="undefined"&&(d!==!1&&f===!0?window.requestTimeout(function(){g()},pb):g())}function qb(){V===!0&&(D===!1?(console.log("GAME: START"),D=!0,b.signals.onGameStarted.dispatch(),U(ya,function(){b.signals.onGameStartedCompleted.dispatch()})):
W())}function rb(){V===!0&&(console.log("GAME: STOP"),D=!1,b.signals.onGameStopped.dispatch(),U(ha,function(){b.signals.onGameStoppedCompleted.dispatch()}))}function X(a,c){y===!1&&(console.log("GAME: PAUSE"),y=!0,b.signals.onGamePaused.dispatch(a,c),ia())}function W(a){if(y===!0&&(B.errorState!==!0||D!==!0))console.log("GAME: RESUME"),y=!1,b.signals.onGameResumed.dispatch(a)}function za(){var a,c;window.requestAnimationFrame(za);b.timeLast=b.time;b.time=(new Date).getTime();a=b.time-b.timeLast;c=
Math.round(a/b.timeDeltaExpected*b.timeDeltaModDec)/b.timeDeltaModDec;E(c)!==!0&&(c=1);b.signals.onUpdated.dispatch(a,c);y!==!0&&M===!0&&(TWEEN.update(),e.physics&&e.physics.update(a,c),b.signals.onGameUpdated.dispatch(a,c),ia())}function ia(){M===!0&&(b.cameraControls.update(),b.cameraBG.quaternion.copy(b.camera.quaternion),b.renderer.setViewport(0,0,b.gameWidth,b.gameHeight),b.renderer.clear(),C.render())}function Aa(a){return a===null?a+"":Object.prototype.toString.call(a).slice(8,-1).toLowerCase()}
function Y(a){return Object.prototype.toString.call(a)==="[object Array]"}function E(a){return!isNaN(a)&&isFinite(a)&&typeof a!=="boolean"}function ja(a){return typeof a!=="undefined"&&a.hasOwnProperty("nodeName")&&a.nodeName.toLowerCase()==="img"}function Ba(a){return a==="jpg"||a==="jpeg"||a==="png"||a==="gif"||a==="bmp"?!0:!1}function sb(a){return a&&a.type&&(a.target||a.srcElement)}function ka(a,c,b,f){var g,h,j,k,i,l,o,r,z,m;if(typeof a!=="undefined"){c=e.type(c)==="object"?c:{};j=Object.getOwnPropertyNames(a);
for(g=0,h=j.length;g<h;g++)if(k=j[g],i=Object.getOwnPropertyDescriptor(a,k),c.hasOwnProperty(k)&&delete c[k],Object.defineProperty(c,k,i),b===!0&&(i=Object.getOwnPropertyDescriptor(c,k),l=i.value,o=Aa(l),o==="object"||o==="array"))f=f||{sources:[],copies:[]},r=f.sources,z=f.copies,m=n(r,l),m===-1?(r[r.length]=l,o=z[z.length]=o==="object"?{}:[],l===a&&(l[k]=o),i.value=ka(l,o,!0,f)):i.value=z[m],Object.defineProperty(c,k,i)}return c}function tb(a,c,b){var f,g,e,c=E(c)&&c>0?c:1,b=typeof b==="string"?
b:"";g=(new Date).getTime();for(f=0;f<c;f++)e=a.call();a=(new Date).getTime();console.log(b," > time test ( x",c,"): ",a-g);return e}function p(a){return a?Y(a)!==!0?[a]:a:[]}function ub(a,c){return Y(a)===!0?a[c||0]:a}function vb(a,c){var b,f,g,e,j=!1,a=p(a),c=p(c);for(b=0,f=c.length;b<f;b++)g=c[b],e=n(a,g),e===-1&&(a.push(g),j=!0);return j}function wb(a,c){var b,f,g,e=!1,a=p(a),c=p(c);for(b=0,f=c.length;b<f;b++)g=c[b],g=n(a,g),g!==-1&&(a.splice(g,1),e=!0);return e}function xb(a){return a[Math.round(Math.random()*
(a.length-1))]}function yb(a){return a.splice(Math.round(Math.random()*(a.length-1)),1)[0]}function n(a,c){for(var b=0,f=a.length;b<f;b++)if(c===a[b])return b;return-1}function zb(a,b){for(var d=a.length-1;d>=0;d--)if(b===a[d])return d;return-1}function Ab(a,b){for(var d=[],f=0,g=a.length;f<g;f++)b===a[f]&&d.push(f);return d}function Bb(a,b){for(var d=0,f=a.length;d<f;d++)if(n(b,a[d])!==-1)return d;return-1}function Cb(a,b,d){for(var f=0,g=a.length;f<g;f++)if(d===a[f][b])return f;return-1}function Db(a,
b,d){for(var f=[],g=0,e=a.length;g<e;g++)d===a[g][b]&&f.push(g);return f}function Eb(a,b,d){for(var f=0,g=a.length;f<g;f++)for(var e=0,j=b.length;e<j;e++)if(d[e]===a[f][b[e]])return f;return-1}function Fb(a){var a=a||{},a=a.identifier=a.identifier?a.identifier:0,c=b.pointers[a];if(typeof c==="undefined")c=b.pointers[a]={},c.id=a,c.x=c.lx=b.screenWidth*0.5,c.y=c.ly=b.screenHeight*0.5,c.deltaX=c.deltaY=c.angle=c.distance=c.distanceX=c.distanceY=0,c.direction="none";return c}function N(a){b.timeSinceInteraction=
0;var c=e.get_pointer(a),d,f,g;if(a){d=a.position;Y(d)&&d[c.id]&&(d=d[c.id]);if(typeof d==="undefined"){f=document;g=f.body;d={x:c.x,y:c.y};if(typeof a.pageX!=="undefined")d.x=a.pageX;else if(typeof a.clientX!=="undefined")d.x=a.clientX+(f&&f.scrollLeft||g&&g.scrollLeft||0)-(f&&f.clientLeft||g&&g.clientLeft||0);if(typeof a.pageY!=="undefined")d.y=a.pageY;else if(typeof a.clientY!=="undefined")d.y=a.clientY+(f&&f.scrollTop||g&&g.scrollTop||0)-(f&&f.clientTop||g&&g.clientTop||0)}if(c.x!==d.x||c.y!==
d.y)c.x=d.x||c.x,c.y=d.y||c.y,c.deltaX=c.x-c.lx,c.deltaY=c.y-c.ly,c.lx=c.x,c.ly=c.y,c.angle=a.angle||0,c.direction=a.direction||"none"}return c}function gb(a){b.pointerInGame=!1;b.signals.onGamePointerLeft.dispatch(a)}function hb(a){b.pointerInGame=!0;b.signals.onGamePointerEntered.dispatch(a)}function eb(a){b.pointerInGame===!0&&(b.signals.onGamePointerMoved.dispatch(a),s(a))}function ib(a){b.signals.onGamePointerTapped.dispatch(a,N(a));s(a)}function jb(a){b.signals.onGamePointerDoubleTapped.dispatch(a,
N(a));s(a)}function kb(a){b.signals.onGamePointerHeld.dispatch(a,N(a));s(a)}function lb(a){b.signals.onGamePointerDragStarted.dispatch(a,e.get_pointer(a));s(a)}function fb(a){b.signals.onGamePointerDragged.dispatch(a,e.get_pointer(a));s(a)}function mb(a){b.signals.onGamePointerDragEnded.dispatch(a,e.get_pointer(a));s(a)}function nb(a){var c=a.originalEvent||a;a.wheelDelta=c.wheelDelta=(c.detail<0||c.wheelDelta>0?1:-1)*b.pointerWheelSpeed;b.signals.onGamePointerWheel.dispatch(a);s(a);a.preventDefault()}
function ob(a){a.preventDefault()}function Gb(a){b.signals.onKeyPressed.dispatch(a);s(a)}function Hb(a){b.signals.onKeyReleased.dispatch(a);s(a)}function s(a){var c,d;typeof a==="undefined"||a.metaKey||a.ctrlKey||a.shiftKey||a.altKey||(d=a.type+"",d==="tap"||d==="doubletap"||d==="hold"||d==="dragstart"||d==="drag"||d==="dragend"||d==="mousemove"?c="pointer":d==="mousewheel"||d==="DOMMouseScroll"?(c="pointer",d="wheel"):(c=((a.which||a.key||a.keyCode)+"").toLowerCase(),c=va.key(c),d=d.toLowerCase(),
d=d.replace("key","")),b.signals.onGameInput.dispatch(a,c,d))}function Ib(a){b.focused=!1;b.signals.onFocusLost.dispatch(a)}function Jb(a){b.focused=!0;b.signals.onFocusGained.dispatch(a)}function xa(){var a,c;b.screenWidth=$(window).width();b.screenHeight=$(window).height();b.screenViewableWidth=b.domElements.$game.width();b.screenViewableHeight=b.domElements.$game.height();fa&&fa.resize();if(M===!0)b.signals.onWindowResized.dispatch(b.screenWidth,b.screenHeight),a=b.gameWidth=b.screenViewableWidth,
c=b.gameHeight=b.screenViewableHeight,$(b.renderer.domElement).css({top:b.screenOffsetTop,bottom:b.screenOffsetBottom,left:b.screenOffsetLeft,right:b.screenOffsetRight}),b.renderer.setSize(a,c),b.renderTarget.width=a,b.renderTarget.height=c,b.cameraBG.aspect=b.camera.aspect=a/c,b.camera.updateProjectionMatrix(),b.cameraBG.updateProjectionMatrix(),C.reset(b.renderTarget),ia()}function Ca(a,b,d){X(!0);B.errorState!==!0&&B.generate(a,b,d);throw a+" at "+d+" in "+b;}function Da(a){a=Ea(a);return!!Modernizr.prefixed(a)}
function Ea(a){var b=a.split("-"),d=b.length;if(d==1)return b[0];for(var a=a.charAt(0)=="-"?b[0].charAt(0).toUpperCase()+b[0].substring(1):b[0],f=1;f<d;f++)a+=b[f].charAt(0).toUpperCase()+b[f].substring(1);return a}function Kb(a){return a.toLowerCase().replace(/\b[a-z]/g,function(a){return a.toUpperCase()})}function Lb(a){return a instanceof $?a.get(0):a}function A(a,c){if(b.supports.pointerEvents)c===!0?a.addClass("ignore-pointer-temporary"):a.removeClass("ignore-pointer-temporary");else if(c===
!0)a.on("tap.pointer doubletap.pointer hold.pointer dragstart.pointer drag.pointer, dragend.pointer",function(b){b.preventDefault();b.stopPropagation();a.stop(!0).addClass("invisible");$(document.elementFromPoint(b.clientX,b.clientY)).trigger(b);a.stop(!0).removeClass("invisible");return!1});else a.off(".pointer")}function Fa(a,b,d,f){var g=function(){typeof b==="function"&&b.call(d,f)};ja(f)!==!0&&(f=new Image);f.crossOrigin="";f.src=a;f.complete?g():f.onload=g;return f}function Mb(a){var c,d,f,
g,e,a=a||{};c=$(a.element);d=E(a.duration)?a.duration:b.domFadeDuration;f=E(a.opacity)?a.opacity:0;g=typeof a.easing==="string"?a.easing:b.domFadeEasing;e=a.callback;c.each(function(){var b=$(this),c,i,l,o,r;o=b.is(".invisible");l=b.is(".hiding, .hidden")||o;i=b.is(".collapsed");r=o||a.invisible;b.stop(!0).removeClass("invisible hiding hidden collapsed");c=b.find("a, button").add(b);(l===!0||i===!0||a.initHidden===!0)&&b.fadeTo(0,0).css("height","");f===0?(b.addClass("hiding").trigger("hide"),A(c,
!0)):(A(c,!1),b.trigger("show"));b.animate({opacity:f},{duration:d,easing:g,complete:function(){b.removeClass("hiding");f===0?(b.addClass(r?"invisible":"hidden").css("opacity","").trigger("hidden"),A(c,!1)):(b.trigger("shown"),f===1&&b.css("opacity",""));typeof e==="function"&&e()}})})}function Nb(a){var c,d,f,e,h,a=a||{};c=$(a.element);f=typeof a.show==="boolean"?a.show:!1;d=E(a.duration)?a.duration:b.domCollapseDuration;e=typeof a.easing==="string"?a.easing:b.domCollapseEasing;h=a.callback;c.each(function(){var b=
$(this),c,i,l,o,r,z=0,m=function(){f===!0?b.css("height","").trigger("shown"):(b.addClass(r?"invisible":"hidden").trigger("hidden"),A(c,!1));typeof h==="function"&&h()};o=b.is(".invisible");l=b.is(".hiding, .hidden")||o;i=b.is(".collapsed");r=o||a.invisible;if(i!==!0&&(l===!0||a.initHidden===!0))b.css("height",0).css("opacity",""),i=!0;i===f&&(b.stop(!0).removeClass("invisible hiding hidden collapsed"),c=b.find("a, button").add(b),f===!0?(b.placeholdme().appendTo("body"),i=b.height(),b.css("height",
""),z=b.height(),b.css("height",i),b.placeholdme("revert"),A(c,!1),b.trigger("show")):(A(c,!0),b.addClass("collapsed").trigger("hide")),b.animate({height:z},{duration:d,easing:e,complete:m}))})}function Ga(){w=[];O=[];b.signals.onWorkerReset.dispatch()}function Ha(a){typeof a==="string"&&a.length>0&&w.hasOwnProperty(a)!==!0&&(da++,w.push(a),b.signals.onWorkerTaskStarted.dispatch(a))}function Ia(a){var c=n(w,a);c!==-1&&(w.splice(c,1),O.push(a),b.signals.onWorkerTaskCompleted.dispatch(a),w.length===
0&&b.signals.onWorkerTasksCompleted.dispatch())}function Ja(a,b,d,f){var e,h,j,k,i,l=!0;if(typeof a!=="undefined"){if(typeof a==="string"||a.hasOwnProperty("length")===!1)a=[a];a=a.slice(0);if(typeof d!=="string"||x.hasOwnProperty(d))d=P;P++;for(e=0,h=a.length;e<h;e++)j=a[e],j=m(j),k=n(u,j),i=n(v,j),k===-1&&i==-1&&(u.push(j),R.push(d),Ha(j),newLocations=!0),i===-1&&(l=!1);J=v.concat(u);x[d]=a;if(typeof b==="undefined")b=[];else if(typeof b==="function"||b.hasOwnProperty("length")===!1)b=[b];I[d]=
b;typeof f!=="string"&&(f=L[Math.max(0,Math.min(L.length-1,Math.round(Math.random()*L.length)-1))]);Q[d]=f;H[d]=[];t.push(d);l===!0?Ka(d):La()}}function La(){var a,c,d,f,e;if(G===!1&&t.length>0){G=!0;K=t[0];d=x[K].slice(0);for(a=0,c=d.length;a<c;a+=1)f=d[a],e=m(f),n(v,e)!==-1?la(f):n(S,e)===-1&&(S.push(e),Ob(f))}else K=void 0,b.signals.onLoadAllCompleted.dispatch()}function Ob(a){var b,d,f,e,h=function(){la(a,e)},j=function(b){la(a,b)};typeof a!=="undefined"&&(f=a.type||ea,b=m(a),d=ma(b),d===""&&
(b=na(b)),f==="image"||Ba(d)?(e=Fa(b,function(a){e=a;h()}),oa(b,{data:e})):f==="model"||f==="model_ascii"?(typeof T==="undefined"&&(T=new THREE.JSONLoader(!0)),T.load(b,j)):$LAB.script(b).wait(h))}function la(a,c){var d,f,e,h,j,k,i;d=m(a);Ia(d);oa(d,{data:c});pa(d);typeof b!=="undefined"&&b.signals.onLoadItemCompleted.dispatch(d);for(d=0,f=t.length;d<f;d++)e=t[d],h=x[e],k=n(h,a),k!==-1&&(j=H[e],h.splice(k,k!==-1?1:0),j.push(a),h.length===0&&(i=i||[],i.push(e)));if(typeof i!=="undefined")for(d=0,f=
i.length;d<f;d++)Ka(i[d])}function Ka(a){var c,d,f,e;c=n(t,a);c!==-1&&t.splice(c,1);f=I[a];for(c=0,d=f.length;c<d;c++)e=f[c],typeof e!=="undefined"&&e.call(this);typeof b!=="undefined"&&b.signals.onLoadListCompleted.dispatch(a);delete x[a];delete I[a];delete Q[a];delete H[a];G=!1;La()}function pa(a){var b,d,e,g,h=!1,a=p(a);for(b=0,d=a.length;b<d;b++)e=a[b],e=m(e),g=n(u,e),g!==-1&&(R.splice(g,1),u.splice(g,1)),g=n(v,e),g===-1&&(v.push(e),h=!0);h===!0&&(J=v.concat(u))}function qa(a,b){var d;d=m(a);
return n(b,d)!==-1?!0:!1}function Pb(a){return qa(a,J)}function Qb(a){return qa(a,v)}function Rb(a){return qa(a,u)}function m(a){return a.path||a}function ma(a){var b,d="",a=m(a);b=a.lastIndexOf(".");b!==-1&&(d=a.substr(b+1).toLowerCase());return d}function na(a){a=ra(a);return a=a.replace(/\./g,"")+".js"}function ra(a){var b,a=m(a);b=a.lastIndexOf(".");b!==-1&&(a=a.substr(0,b));return a}function sa(a){a=m(a);return ma(a)===""?na(a):ra(a)}function Ma(a){var b,d,e;d=a.split(/[\\\/]/);for(a=0,b=d.length;a<
b;a++){e=d[a];e=e.replace(/[^\w\.-]+/g,"");if(e===""){Ca("Invalid asset cascade","Main","N/A");return}d[a]=e}return d}function F(a,b){var d,f,g,h,j,k;g=e;d=m(a);f=Ma(d);for(j=0,k=f.length;j<k;j++)if(h=f[j],g=g[h],typeof g==="undefined")break;b=b||1;return typeof g==="undefined"&&b===1?F(sa(d),b+1):g}function Na(a,b){var d,f,g,h,j,k;if(b instanceof q){h=f=e;d=m(a);d=Ma(d);for(j=0,k=d.length;j<k;j++)f=h,g=d[j],h=f[g]=f[g]||{};h instanceof q&&h.is_empty()===!1?b.is_empty()===!1&&h.merge_asset_self(b):
f[g]=h=b}return h}function Sb(a){a=F(a);return a instanceof q?a.data:a}function oa(a,b){var d;d=F(a);if(d instanceof q!==!0||b&&typeof b.data!=="undefined"&&b.data!==d.data)d=new q(a,b);return d=d.data}function Oa(a,c){c=c||F(a);if(c instanceof q)c.ready=!0,c.wait=!1,typeof b.signals!=="undefined"&&typeof b.signals.onAssetReady!=="undefined"&&b.signals.onAssetReady.dispatch(a)}function ta(a,c,d,e){var g,h,j=[],k=[],i=[],l=!1,a=p(a),c=p(c);g=function(c,d){var e;e=n(k,c);e!==-1?(k.splice(e,1),i.push(c),
k.length===0&&i.length===a.length&&(l===!0&&(b.signals.onAssetReady.remove(g),l=!1),h())):d!==!0&&g(sa(c),!0)};h=function(){var a,b,d;for(a=0,b=c.length;a<b;a++)d=c[a],d.apply(this,j);if(e instanceof q&&e.readyAutoUpdate===!0)e.on_ready()};Ja(a,function(){var c,e,f,i;for(c=0,e=a.length;c<e;c++)f=a[c],i=m(f),f=F(f),f instanceof q&&j.push(f.data),d===!0&&(k.push(i),f instanceof q&&f.ready===!0?g(i):l===!1&&(l=!0,b.signals.onAssetReady.add(g)));(d!==!0||a.length===0)&&h()})}function q(a,b){var d=this,
b=b||{};b.path=a;d.merge_asset_self(b,!0);if(typeof d.path!=="undefined"){d=Na(d.path,d);if(d===this&&this.readyAutoUpdate===!0&&(this.requirements.length===0||this.wait!==!0))this.on_ready();this.requirements.length>0&&ta(this.requirements,this.callbacksOnReqs,this.wait,this)}return d}window.console=window.console||{info:function(){},log:function(){},debug:function(){},warn:function(){},error:function(){}};var b=e.shared=e.shared||{};b.domElements={};b.supports={webGL:!0};b.throttled={};b.spawns=
{};b.pointers=[];b.originLink=window.location.pathname.toString();b.pathToIcons="img/";b.pathToAssets="asset/";b.frameRateMax=60;b.frameRateMin=20;b.time=(new Date).getTime();b.timeLast=b.time;b.timeDeltaExpected=1E3/60;b.timeDeltaModDec=Math.pow(10,2);b.pointerWheelSpeed=120;b.pointerHoldPositionShift=10;b.pointerInGame=!0;b.throttleTimeShort=b.timeDeltaExpected*3;b.throttleTimeMedium=100;b.throttleTimeLong=250;b.throttleTimeLong=250;b.focused=!0;b.errorString="error";b.errorTypeGeneral="General";
b.errorTypes=[b.errorTypeGeneral,"WebGLBrowser","WebGLComputer"];b.errorTypesOnlyOnce=["WebGLBrowser","WebGLComputer"];b.fadeBetweenSections=!1;b.domFadeDuration=500;b.domCollapseDuration=500;b.domFadeEasing="easeInOutCubic";b.domCollapseEasing="easeInOutCubic";b.screenWidth=0;b.screenHeight=0;b.screenViewableWidth=0;b.screenViewableHeight=0;b.screenOffsetTop=0;b.screenOffsetBottom=0;b.screenOffsetLeft=0;b.screenOffsetRight=0;G=void 0;P=void 0;t=void 0;x=void 0;H=void 0;Q=void 0;I=void 0;u=void 0;
R=void 0;S=void 0;v=void 0;J=void 0;K=void 0;ea=void 0;L=void 0;T=void 0;da=void 0;w=void 0;O=void 0;var B,ga,wa,va,fa,ha,ya,C,M=!1,V=!1,Z=!1,D=!1,y=!1,aa=!1,pb=500,Pa=["js/lib/RequestAnimationFrame.js","js/lib/RequestInterval.js","js/lib/RequestTimeout.js","js/lib/signals.min.js","js/lib/jquery-1.8.2.min.js"],Qa=["js/lib/hammer.custom.js","js/lib/bootstrap.min.js","js/lib/jquery.easing-1.3.min.js","js/lib/jquery.throttle-debounce.custom.min.js","js/lib/jquery.placeholdme.js"],Tb=["js/kaiopua/utils/ErrorHandler.js",
"js/kaiopua/ui/UI.js","js/kaiopua/utils/KeyHelper.js"],Sa=["js/lib/three/three.min.js","js/lib/Tween.custom.min.js"],Ua="js/lib/three/ThreeOctree.min.js,js/lib/three/postprocessing/ShaderExtras.js,js/lib/three/postprocessing/EffectComposer.js,js/lib/three/postprocessing/RenderPass.js,js/lib/three/postprocessing/MaskPass.js,js/lib/three/postprocessing/ShaderPass.js".split(","),Xa=["js/kaiopua/core/Scene.js","js/kaiopua/core/CameraControls.js"],$a=["js/kaiopua/sections/Launcher.js"],cb=["js/kaiopua/sections/Start.js"];
$LAB.script(Pa).wait().script(Qa).wait(function(){b.domElements.$game=$("#game");b.supports.pointerEvents=Da("pointer-events");b.signals={onFocusLost:new signals.Signal,onFocusGained:new signals.Signal,onKeyPressed:new signals.Signal,onKeyReleased:new signals.Signal,onGameInput:new signals.Signal,onWindowResized:new signals.Signal,onUpdated:new signals.Signal,onWorkerReset:new signals.Signal,onWorkerTaskStarted:new signals.Signal,onWorkerTaskCompleted:new signals.Signal,onWorkerTasksCompleted:new signals.Signal,
onLoadItemCompleted:new signals.Signal,onLoadListCompleted:new signals.Signal,onLoadAllCompleted:new signals.Signal,onAssetReady:new signals.Signal,onGamePlayable:new signals.Signal,onGameReadyChange:new signals.Signal,onGamePaused:new signals.Signal,onGameResumed:new signals.Signal,onGameUpdated:new signals.Signal,onGameStarted:new signals.Signal,onGameStartedCompleted:new signals.Signal,onGameStopped:new signals.Signal,onGameStoppedCompleted:new signals.Signal,onGamePointerLeft:new signals.Signal,
onGamePointerEntered:new signals.Signal,onGamePointerMoved:new signals.Signal,onGamePointerTapped:new signals.Signal,onGamePointerDoubleTapped:new signals.Signal,onGamePointerHeld:new signals.Signal,onGamePointerDragStarted:new signals.Signal,onGamePointerDragged:new signals.Signal,onGamePointerDragEnded:new signals.Signal,onGamePointerWheel:new signals.Signal};$(document).on("keydown",Gb).on("keyup",Hb);b.throttled.reposition_pointer=$.throttle(b.throttleTimeShort,N);b.throttled.on_window_resized=
$.throttle(b.throttleTimeLong,xa);$(window).on("mousemove",b.throttled.reposition_pointer).on("blur",Ib).on("focus",Jb).on("resize",b.throttled.on_window_resized);window.onerror=Ca;b.signals.onFocusLost.add(function(){y!==!0&&(aa=!0);X(!0)});b.signals.onFocusGained.add(function(){aa===!0&&(aa=!1,W(!0))});G=!1;P=0;t=[];x={};H={};Q={};I={};u=[];R=[];S=[];v=[];J=[];K="";ea="script";L=[];pa(Pa);pa(Qa);da=0;w=[];O=[];Ga();e.type=Aa;e.is_number=E;e.is_array=Y;e.is_image=ja;e.is_image_ext=Ba;e.is_event=
sb;e.extend=ka;e.time_test=tb;e.to_array=p;e.ensure_not_array=ub;e.array_cautious_add=vb;e.array_cautious_remove=wb;e.array_random_value=xb;e.array_random_value_remove=yb;e.index_of_value=n;e.last_index_of_value=zb;e.indices_of_value=Ab;e.index_of_values=Bb;e.index_of_property=Cb;e.indices_of_property=Db;e.index_of_properties=Eb;e.css_property_supported=Da;e.str_to_camel=Ea;e.str_to_title=Kb;e.dom_extract=Lb;e.dom_generate_image=Fa;e.dom_ignore_pointer=A;e.dom_fade=Mb;e.dom_collapse=Nb;e.get_pointer=
Fb;e.reposition_pointer=N;e.worker_reset=Ga;e.worker_task_start=Ha;e.worker_task_complete=Ia;e.load=Ja;e.get_is_loaded=Qb;e.get_is_loading=Rb;e.get_is_loading_or_loaded=Pb;e.get_asset_path=m;e.get_ext=ma;e.add_default_ext=na;e.remove_ext=ra;e.get_alt_path=sa;e.asset_register=oa;e.asset_require=ta;e.asset_ready=Oa;e.set_asset=Na;e.get_asset=F;e.get_asset_data=Sb;e.set_section=U;e.start=qb;e.stop=rb;e.resume=W;e.pause=X;Object.defineProperty(e,"paused",{get:function(){return y}});Object.defineProperty(e,
"started",{get:function(){return D}});Object.defineProperty(e,"setup",{get:function(){return M}});Object.defineProperty(e,"playable",{get:function(){return V}});Object.defineProperty(e,"ready",{get:function(){return Z},set:function(a){Z!==a&&(Z=a,b.signals.onGameReadyChange.dispatch(Z))}});Object.defineProperty(e,"focusLost",{get:function(){return aa}});$(window).trigger("resize");za();ta(Tb,Ra,!0)});q.prototype={};q.prototype={constructor:q,merge_asset_self:function(a,b){if(typeof a!=="undefined"){this.path=
a.path;this.merge_asset_data_self(a);if(typeof this.wait!=="boolean"||this.wait===!1)this.wait=a.wait===!0?a.wait:!1;if(this.ready!==!0)this.ready=!1;if(typeof this.readyAutoUpdate!=="boolean")this.readyAutoUpdate=a.hasOwnProperty("readyAutoUpdate")?a.readyAutoUpdate:!0;this.requirements=p(this.requirements);this.callbacksOnReqs=p(this.callbacksOnReqs);if(b===!0)this.requirements=this.requirements.concat(p(a.requirements)),this.callbacksOnReqs=this.callbacksOnReqs.concat(p(a.callbacksOnReqs))}},merge_asset_data_self:function(a){a=
a.data;if(typeof a!=="undefined")typeof this.data==="undefined"||ja(a)?this.data=a:ka(a,this.data)},is_empty:function(){var a=!0;if(typeof this.data!=="undefined"||this.ready===!1&&this.requirements.length>0)a=!1;return a},on_ready:function(){console.log("[ KAIOPUA ] Module / Asset Ready: "+this.path);Oa(this.path,this)}};return e}(KAIOPUA||{});
