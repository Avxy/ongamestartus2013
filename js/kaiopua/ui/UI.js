(function(b){function D(d){var c=d.options.paths.assets,e=a.domElements.cloneables.$speaker.clone(),f=e.find(".thumbnail"),h=e.find(".speaker-name"),g=e.find(".speaker-presentation"),j=e.find(".speaker-about"),k=e.find(".speaker-links"),m=b.dom_generate_image(a.pathToAssets+(d.options.paths.image||c+".png"));f.append(m);h.html(d.name);g.html(d.presentation||"TBA");j.html(d.about||"TBA");k.html(d.links||"TBA");e.attr("id",c).addClass("hidden").appendTo(a.domElements.$speakersList);window.localStorage&&
typeof window.localStorage[c]!=="undefined"&&s(d,!0)}function s(d,c){if(b.index_of_value(x,d)===-1){x.push(d);var e=d.options.paths.assets,f=a.domElements.$speakersList.find("#"+e);b.dom_fade({element:f,opacity:1});window.localStorage&&(window.localStorage[e]="unlocked");c!==!0&&y(a.domElements.cloneables.$speakerUnlocked.clone())}}function y(d){var c=$(d);if(c.length>0){for(;t.length>E;)u(t.shift(),!0);t.push(c);c.addClass("hidden").appendTo(a.domElements.$playerMessages);b.dom_fade({element:c,opacity:1,
callback:function(){c.data("playerMessageTimeout",window.requestTimeout(function(){u(c)},F))}})}}function u(a,c){var e=$(a);if(e.length>0){typeof e.data("playerMessageTimeout")!=="undefined"&&window.clearRequestTimeout(e.data("playerMessageTimeout"));var f={element:e,callback:function(){e.remove()}};if(c===!0)f.duration=0;b.dom_fade(f)}}function G(){$().add(a.domElements.$workerProgressBarStarted).add(a.domElements.$workerProgressBarCompleted).children(".work-task").remove()}function H(d){typeof j!==
"undefined"&&(window.clearTimeout(j),j=void 0);b.dom_fade({element:a.domElements.$worker,opacity:1});a.domElements.$workerProgressBarStarted.prepend($('<img src="img/bar_vertical_rev_64.png" id="'+d+'" class="iconk-tiny-widthFollow-tight work-task">'))}function I(b){var c=b.replace(/([ #;?&,.+*~\':"!^$[\]()=>|\/@])/g,"\\$1");a.domElements.$workerProgressBarStarted.find("#"+c).remove();a.domElements.$workerProgressBarCompleted.append($('<img src="img/bar_vertical_rev_64.png" id="'+b+'" class="iconk-tiny-widthFollow-tight work-task">'))}
function J(){typeof j!=="undefined"&&(window.clearTimeout(j),j=void 0);j=window.setTimeout(function(){b.dom_fade({element:a.domElements.$worker})},K)}function L(){if(b.playable===!0&&a.supports.webGL===!0){a.domElements.$gameState.find(".state-loading").removeClass("active");b.ready===!0?a.domElements.$gameState.find(".state-usable").removeClass("active").end().find(".state-ready").addClass("active"):a.domElements.$gameState.find(".state-ready").removeClass("active").end().find(".state-usable").addClass("active");
var d,c;d=$().add(a.domElements.$buttonsGameStart).add(a.domElements.$buttonsGameStop);c=d.closest("li");c.length===0&&(c=d);c.removeClass("disabled dim");a.domElements.$buttonsGameStart.tooltip("destroy").on("tap",b.start)}else a.domElements.$gameState.find(".state-loading").addClass("active").end().find(".state-usable").removeClass("active").end().find(".state-ready").removeClass("active"),z()}function z(){var b,c;b=$().add(a.domElements.$buttonsGameStart).add(a.domElements.$buttonsGameStop);c=
b.closest("li");c.length===0&&(c=b);c.addClass("disabled dim");if(a.supports.webGL!==!0){a.domElements.$gameState.find(".state-loading").text("No WebGL");a.domElements.$buttonsGameStart.tooltip("destroy").tooltip({title:"We need WebGL!",trigger:"manual",placement:"left",selector:a.domElements.$buttonsGameStart}).tooltip("show");c=a.domElements.$buttonsGameStart.closest("li");if(c.length===0)c=a.domElements.$buttonsGameStart;b=a.domElements.$buttonsGameStart.data("tooltip").$tip;b.css({top:(c.height()-
b.height())*0.5,left:-(b.outerWidth()+5)}).appendTo(c)}}function M(){m()}function N(){}function O(){}function P(){b.dom_fade({element:a.domElements.$navMain,opacity:1})}function v(){b.started!==!0&&(a.domElements.$uiGameDimmer.off(".resume"),b.dom_fade({element:a.domElements.$uiGameDimmer}));b.dom_fade({element:a.domElements.$navMainAlt,duration:0});a.domElements.$social.removeClass("blocking");a.domElements.$sponsorsLite.removeClass("hidden");a.domElements.$menuToggleDefault.length>0?a.domElements.$menuToggleDefault.trigger("tap"):
a.domElements.$menuDefault.length>0&&a.domElements.$menuDefault.trigger("open")}function Q(a,c,e){e==="up"&&c==="escape"&&(b.started===!0&&b.paused===!0||w===!0?p():n())}function n(a,c){b.started===!0?b.paused!==!0?b.pause(a,c):q(a,c):q(a,c)}function q(d,c){var e=c instanceof jQuery&&!a.domElements.$menuDefault.is(c);w=!0;if(!(b.focusLost===!0&&b.started!==!0))if(b.dom_fade({element:a.domElements.$buttonsGamePause,duration:0,invisible:!0}),b.dom_fade({element:a.domElements.$buttonsGameResume,duration:0,
invisible:!0}),d===!0)b.dom_fade({element:a.domElements.$uiBlocker,opacity:0.9});else if(e===!0?(o=c,a.domElements.$social.addClass("blocking"),a.domElements.$sponsorsLite.addClass("hidden"),b.dom_fade({element:a.domElements.$navMainAlt,opacity:1})):(o=void 0,v()),b.started===!0||e===!0)b.dom_fade({element:a.domElements.$uiGameDimmer,opacity:0.9}),a.domElements.$uiGameDimmer.on("tap.resume",m),b.dom_fade({element:a.domElements.$buttonsGameResume,opacity:1})}function p(){b.started===!0&&typeof o===
"undefined"?b.resume():m()}function m(d){w=!1;b.dom_fade({element:a.domElements.$uiBlocker});d!==!0&&(typeof o!=="undefined"?v():(a.domElements.$uiGameDimmer.off(".resume"),b.dom_fade({element:a.domElements.$uiGameDimmer}),b.started===!0?(r.clear(a.domElements.$uiOutGame),b.dom_fade({element:a.domElements.$uiOutGame}),b.dom_fade({element:a.domElements.$buttonsGamePause,opacity:1})):v()));b.started===!0&&b.paused!==!0?b.dom_fade({element:a.domElements.$buttonsGamePause,opacity:1}):typeof o!=="undefined"?
b.dom_fade({element:a.domElements.$buttonsGameResume,opacity:1}):b.dom_fade({element:a.domElements.$buttonsGameResume,duration:0,invisible:!0})}function A(d,c,e){var f=d;B();if(b.index_of_value(a.errorTypes,f)===-1)f=a.errorTypeGeneral;if(b.index_of_value(a.errorTypesOnlyOnce,f)!==-1){if(window.localStorage)if(typeof window.localStorage[f]!=="undefined")return;else window.localStorage[f]="shown";$(document).one("tap.errorclear",function(){B();p()})}k=a.domElements["$"+a.errorString+f];f===a.errorTypeGeneral&&
(typeof c==="string"&&(index=c.search(/\/(?![\s\S]*\/)/),index!==-1&&(c=c.slice(index+1)),index=c.search(/\?(?![\s\S]*\?)/),index!==-1&&(c=c.slice(0,index))),k.find("#errorMessage").html(d),k.find("#errorFile").html(c),k.find("#errorLine").html(e));n(!0);b.dom_collapse({element:k,show:!0})}function B(){typeof k!=="undefined"&&b.dom_collapse({element:k})}function R(){a.domElements.$uiOutGame[0].scrollHeight>a.screenViewableHeight&&a.domElements.$menusInner.css("padding-left",$.scrollbarWidth())}var a=
b.shared=b.shared||{},g={},r,w=!1,C=!1,t=[],E=3,F=2E3,x=[],K=1E3,j,o,k;b.asset_register("js/kaiopua/ui/UI.js",{data:g,requirements:["js/kaiopua/ui/UIQueue.js",{path:a.pathToAssets+"speakers.js",type:"json"},"js/lib/jquery.scrollbarwidth.min.js","js/lib/jquery.multi-sticky.js"],callbacksOnReqs:function(d,c){r=d;g.pause=q;g.resume=m;g.resize=R;g.show_error=A;g.show_speaker=s;g.show_message=y;g.hide_message=u;Object.defineProperty(g,"ready",{get:function(){return C}});a.domElements=a.domElements||{};
a.domElements.cloneables=a.domElements.cloneables||{};a.domElements.cloneables.$speaker=$('<div class="speaker well"><div class="row"><div class="span3"><div class="thumbnail borderless"></div></div><div class="span9"><h2 class="speaker-name"></h2><h6>Presenting</h6><p class="speaker-presentation sidekick-type"></p><h6>About</h6><p class="speaker-about"></p><h6>Links</h6><p class="speaker-links"></p></div></div></div>');a.domElements.cloneables.$speakerUnlocked=$('<div class="player-message"><h2 class="skewed-type scifi-type shadowed-type">SPEAKER PROFILE UNLOCKED!</h2><p class="lead sidekick-type dim">(open your speakers list to view)</p></div>');
a.domElements.$uiGameDimmer=$("#uiGameDimmer");a.domElements.$uiBlocker=$("#uiBlocker");a.domElements.$ui=$("#ui");a.domElements.$uiInGame=$("#uiInGame");a.domElements.$uiOverGame=$("#uiOverGame");a.domElements.$uiOutGame=$("#uiOutGame");a.domElements.$uiOverlay=$("#uiOverlay");a.domElements.$autoCenter=$(".auto-center");a.domElements.$autoCenterVertical=$(".auto-center-vertical");a.domElements.$autoCenterHorizontal=$(".auto-center-horizontal");a.domElements.$preloader=$("#preloader");a.domElements.$statusInactive=
$("#statusInactive");a.domElements.$statusActive=$("#statusActive");a.domElements.$statusItems=$(".status-item");a.domElements.$worker=$("#worker");a.domElements.$workerProgressBarStarted=$("#workerProgressBarStarted");a.domElements.$workerProgressBarCompleted=$("#workerProgressBarCompleted");a.domElements.$uiState=$("#uiState");a.domElements.$gameState=$("#gameState");a.domElements.$dropdowns=$(".dropdown");a.domElements.$tabToggles=$(".tab-toggles").find('[href^="#"]').not(".tab-toggle-empty");
a.domElements.$stickied=$(".is-sticky");a.domElements.$actionsActive=$("#actionsActive");a.domElements.$actionsInactive=$("#actionsInactive");a.domElements.$actionItems=$(".action-item");a.domElements.$menus=$(".menu");a.domElements.$menuDefault=$("#menuMain");a.domElements.$menusInner=$();a.domElements.$menuToggles=$();a.domElements.$menuToggleDefault=$();a.domElements.$menuActive=$("#menuActive");a.domElements.$menuInactive=$("#menuInactive");a.domElements.$navbars=$(".navbar, .subnavbar");a.domElements.$navMenus=
$("#navMenus");a.domElements.$navMain=$("#navMain");a.domElements.$navMainAlt=$("#navMainAlt");a.domElements.$social=$("#social");a.domElements.$sponsors=$("#sponsors");a.domElements.$sponsorsLite=$("#sponsorsLite");a.domElements.$speakersList=$("#speakersList");a.domElements.$buttonsSpeakersShow=$(".speakers-show");a.domElements.$playerMessages=$("#playerMessages");a.domElements.$buttonsGameStart=$(".game-start");a.domElements.$buttonsGameStop=$(".game-stop");a.domElements.$buttonsGamePause=$(".game-pause");
a.domElements.$buttonsGameResume=$(".game-resume");$("img").attr("draggable",!1);$('a[href^="#"]').each(function(){var a=$(this),b=$(a.data("section")),c=$(a.attr("href"));a.attr("onclick","return false;");if(b.length>0||c.length>0)a.on("tap",function(){(b[0]||c[0]).scrollIntoView(!0)})});a.supports.pointerEvents===!1&&b.dom_ignore_pointer($(".ignore-pointer, .disabled"),!0);a.domElements=a.domElements||{};for(i=0,l=a.errorTypes.length;i<l;i++)errorName=a.errorString+a.errorTypes[i],a.domElements["$"+
errorName]=$("#"+errorName);a.domElements.$worker.on("hidden.reset",function(){b.worker_reset()});a.domElements.$statusItems.each(function(){var b=$(this);b.is(".hidden, .collapsed")&&a.domElements.$statusInactive.append(b)}).on("show.active",function(){a.domElements.$statusActive.removeClass("hidden").append(this)}).on("hidden.active",function(){a.domElements.$statusInactive.append(this);a.domElements.$statusActive.children().length===0&&a.domElements.$statusActive.addClass("hidden")});a.domElements.$statusActive.addClass("hidden");
a.domElements.$actionItems.each(function(){var b=$(this);b.parent().is(a.domElements.$actionsActive)&&b.is(".hidden, .collapsed")&&a.domElements.$actionsInactive.append(b)}).on("show.active",function(){a.domElements.$actionsActive.append(this)}).on("hidden.active",function(){a.domElements.$actionsInactive.append(this)});a.domElements.$dropdowns.each(function(){var a=$(this);a.find(".dropdown-menu a").each(function(){var b=$(this);b.on("tap",function(){b.parent().removeClass("active");a.removeClass("open")})})});
a.domElements.$navbars.each(function(){var a=$(this),b=a.find('[data-toggle="collapse"]'),a=a.find(".nav-collapse");b.length>0&&a.length>0&&a.find("a").each(function(){$(this).on("tap",function(){b.is(".collapsed")!==!0&&b.trigger("click")})})});a.domElements.$stickied.each(function(){var b=$(this),c=$(b.data("relative")),d=$(b.data("target"));if(d.length===0)d=a.domElements.$uiOutGame;b.removeClass("is-sticky").sticky({topSpacing:function(){return c.offset().top+c.outerHeight(!0)},scrollTarget:d,
handlePosition:!1})});a.domElements.$menus.each(function(){var c=$(this),d=c.find(".menu-inner"),h=a.domElements.$tabToggles.filter('[href="#'+c.attr("id")+'"]'),g,j,k,m;c.data("$inner",d);c.data("$toggle",h);c.data("scrollTop",0);a.domElements.$menusInner=a.domElements.$menusInner.add(d);g=function(){n(!1,c);h.length>0&&h.closest("li").addClass("active");c.addClass("active");b.dom_fade({element:c,opacity:1});$(window).trigger("resize");a.domElements.$uiOutGame.scrollTop(c.data("scrollTop"))};j=function(){c.data("scrollTop",
a.domElements.$uiOutGame.scrollTop());h.length>0&&h.closest("li").removeClass("active");c.removeClass("active");b.dom_fade({element:c,duration:0})};k=function(){n(!1,c)};m=function(){p()};d=function(){c.is(".active")===!0?c.trigger("close"):c.trigger("open")};c.on("open",function(){r.add({element:c,container:a.domElements.$uiOutGame,activate:g,deactivate:j,first:k,last:m})}).on("close",function(){r.remove(c)}).on("toggle",d);if(h.length>0)h.data("$menu",c),a.domElements.$menuToggles=a.domElements.$menuToggles.add(h),
h.on("tap",d);if(c.is(".active")===!0)a.domElements.$menuDefault=c,a.domElements.$menuToggleDefault=h});a.domElements.$sponsors.length>0&&a.domElements.$sponsorsLite.length>0&&a.domElements.$sponsorsLite.html(a.domElements.$sponsors.clone().html());a.domElements.$buttonsGameStop.on("tap",b.stop);a.domElements.$buttonsGamePause.on("tap",n);a.domElements.$buttonsGameResume.on("tap",p);a.signals.onError.add(A);a.signals.onGameInput.add(Q);a.signals.onWorkerReset.add(G);a.signals.onWorkerTaskStarted.add(H);
a.signals.onWorkerTaskCompleted.add(I);a.signals.onWorkerTasksCompleted.add(J);a.signals.onGameStateChange.add(L);a.signals.onGameStarted.add(M);a.signals.onGameStartedCompleted.add(N);a.signals.onGameStopped.add(O);a.signals.onGameStoppedCompleted.add(P);a.signals.onGamePaused.add(q);a.signals.onGameResumed.add(m);C=!0;a.domElements.$uiState.find(".state-loading").removeClass("active").end().find(".state-usable").removeClass("active").end().find(".state-ready").addClass("active");$(window).trigger("resize");
a.domElements.$menuDefault.trigger("open");b.dom_fade({element:a.domElements.$preloader,duration:0});b.dom_fade({element:a.domElements.$uiGameDimmer});b.dom_fade({element:a.domElements.$navMain,opacity:1});z();for(i=0,il=c.length;i<il;i++)D(c[i]);a.domElements.$buttonsSpeakersShow.one("tap.speakers",function(){a.domElements.$buttonsSpeakersShow.off(".speakers").removeClass("dim").addClass("disabled");for(i=0,il=c.length;i<il;i++)s(c[i],!0)})},wait:!0})})(KAIOPUA);
