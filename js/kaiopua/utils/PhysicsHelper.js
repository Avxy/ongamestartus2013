(function(k){function y(b,a,c,o,l,d,h){var i=n.cardinalAxes,f=p,e=q,g=r,j=s;if(c instanceof THREE.Object3D)c=c.position;if(c instanceof THREE.Vector3!==!0)c=n.universeGravitySource;d=k.is_number(d)?d:1;f.sub(a,c).normalize();j=m.q_to_axis(o,f,l);if(j instanceof THREE.Quaternion)if(b instanceof THREE.Quaternion?(e.multiply(j,b),m.lerp_normalized(b,e,d)):(e.setFromRotationMatrix(b),g.multiply(j,e),m.lerp_normalized(e,g,d),b.setRotationFromQuaternion(e)),h===!0)j.multiplyVector3(o),l instanceof THREE.Vector3&&
j.multiplyVector3(l);else if(typeof h!=="undefined")a=h.axes,b.multiplyVector3(a.up.copy(i.up)),b.multiplyVector3(a.forward.copy(i.forward)),b.multiplyVector3(a.right.copy(i.right));return j}function z(b,a,c,g){var l,d=t,h=u,i=v,f,e=[],b=b.position;if(a instanceof THREE.Object3D)a=a.position;if(a instanceof THREE.Vector3!==!0)a=n.universeGravitySource;d.sub(a,b);h.copy(d).normalize();if(k.is_array(c))for(a=0,l=c.length;a<l;a++)f=c[a],f instanceof w.Collider?e.push(f):typeof f.collider!=="undefined"?
e.push(f.collider):typeof f.rigidBody!=="undefined"&&e.push(f.rigidBody.collider);c=x.raycast({origin:b,direction:h,colliders:e});d=typeof c!=="undefined"?c.distance:d.length();k.is_number(g)&&(d-=g);i.copy(h).multiplyScalar(d);b.addSelf(i);return i}var n=k.shared=k.shared||{},g={},w,m,x,t,u,v,p,q,r,s;k.asset_register("js/kaiopua/utils/PhysicsHelper.js",{data:g,requirements:["js/kaiopua/physics/RigidBody.js","js/kaiopua/utils/VectorHelper.js","js/kaiopua/utils/RayHelper.js"],callbacksOnReqs:function(b,
a,c){w=b;m=a;x=c;t=new THREE.Vector3;u=new THREE.Vector3;v=new THREE.Vector3;p=new THREE.Vector3;new THREE.Vector3;q=new THREE.Quaternion;r=new THREE.Quaternion;s=new THREE.Quaternion;g.rotate_relative_to_source=y;g.pull_to_source=z},wait:!0})})(KAIOPUA);
